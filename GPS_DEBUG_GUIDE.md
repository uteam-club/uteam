# üîß GPS Debug Guide - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é –ø—Ä–æ–±–ª–µ–º

## üö® –ü—Ä–æ–±–ª–µ–º–∞: "–í –æ—Ç—á—ë—Ç–µ –Ω–µ—Ç –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö"

### –ü—Ä–∏—á–∏–Ω—ã –∏ —Ä–µ—à–µ–Ω–∏—è:

#### 1. **–°—Ç–∞—Ä—ã–µ –æ—Ç—á—ë—Ç—ã (–∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–æ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∫–∞–Ω–æ–Ω–∏–∑–∞—Ü–∏–∏)**
- **–°–∏–º–ø—Ç–æ–º—ã**: `rawRows > 0`, `canonicalRows = 0`, `legacyNoCanonical: true`
- **–†–µ—à–µ–Ω–∏–µ**: –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª —á–µ—Ä–µ–∑ GPS –ø—Ä–æ—Ñ–∏–ª—å
- **–ö–∞–∫**: 
  1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ GPS –æ—Ç—á—ë—Ç—ã
  2. –í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –∏ —Å–æ–±—ã—Ç–∏–µ
  3. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª –∑–∞–Ω–æ–≤–æ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –ø—Ä–æ—Ñ–∏–ª–µ–º

#### 2. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –º–∞–ø–ø–∏–Ω–≥–∞ –∏–≥—Ä–æ–∫–æ–≤**
- **–°–∏–º–ø—Ç–æ–º—ã**: `noPlayerMapping: true`, `metaCounts.filtered ‚âà input`
- **–†–µ—à–µ–Ω–∏–µ**: –°–æ–ø–æ—Å—Ç–∞–≤—å—Ç–µ –∏–≥—Ä–æ–∫–æ–≤
- **–ö–∞–∫**:
  1. –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–∞–π–ª–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–æ–¥–∞–ª–∫—É "–°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–≤"
  2. –°–æ–ø–æ—Å—Ç–∞–≤—å—Ç–µ –∏–º–µ–Ω–∞ –∏–∑ —Ñ–∞–π–ª–∞ —Å –∏–≥—Ä–æ–∫–∞–º–∏ –∫–æ–º–∞–Ω–¥—ã
  3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –º–∞–ø–ø–∏–Ω–≥–∏

#### 3. **–ù–µ–ø–æ–¥—Ö–æ–¥—è—â–∏–π –ø—Ä–æ—Ñ–∏–ª—å**
- **–°–∏–º–ø—Ç–æ–º—ã**: `profileMismatch: true`, `missingColumns.length > 0`
- **–†–µ—à–µ–Ω–∏–µ**: –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π
- **–ö–∞–∫**:
  1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∫–∞–∫–∏–µ –∫–æ–ª–æ–Ω–∫–∏ –µ—Å—Ç—å –≤ —Ñ–∞–π–ª–µ
  2. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Ñ–∏–ª—å —Å –Ω—É–∂–Ω—ã–º–∏ –∫–æ–ª–æ–Ω–∫–∞–º–∏
  3. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª —Å –Ω–æ–≤—ã–º –ø—Ä–æ—Ñ–∏–ª–µ–º

#### 4. **–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ —Ñ–∞–π–ª–∞**
- **–°–∏–º–ø—Ç–æ–º—ã**: `warnings.length > 0`, –æ—à–∏–±–∫–∏ –≤ –ª–æ–≥–∞—Ö
- **–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞ –∏ –∏—Å–ø—Ä–∞–≤—å—Ç–µ –æ—à–∏–±–∫–∏
- **–ö–∞–∫**:
  1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ (Excel/CSV)
  2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∫–æ–ª–æ–Ω–æ–∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –ø—Ä–æ—Ñ–∏–ª—é
  3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–µ—Ç –ø—É—Å—Ç—ã—Ö —Å—Ç—Ä–æ–∫ –∏–ª–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

## üõ†Ô∏è –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:

### 1. Debug —Å—Ç—Ä–∞–Ω–∏—Ü–∞: `/debug-gps`
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –æ—Ç—á—ë—Ç—ã –≤ –±–∞–∑–µ
- –°—Ç–∞—Ç—É—Å –∫–∞–∂–¥–æ–≥–æ –æ—Ç—á—ë—Ç–∞ (raw/processed/canonical)
- –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö
- –ö–Ω–æ–ø–∫–∏ –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 2. API –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏: `/api/gps-reports/diag`
```bash
curl "http://localhost:3000/api/gps-reports/diag?teamId=TEAM_ID&eventType=training&eventId=EVENT_ID"
```

### 3. Debug –ª–æ–≥–∏ (GPS_DEBUG=1)
```bash
GPS_DEBUG=1 npm run dev
```

## üìã –ß–µ–∫–ª–∏—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –µ—Å—Ç—å –ª–∏ raw –¥–∞–Ω–Ω—ã–µ –≤ –æ—Ç—á—ë—Ç–µ
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –µ—Å—Ç—å –ª–∏ processed –¥–∞–Ω–Ω—ã–µ
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –µ—Å—Ç—å –ª–∏ canonical –¥–∞–Ω–Ω—ã–µ
- [ ] –ï—Å–ª–∏ –Ω–µ—Ç canonical - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
- [ ] –ï—Å–ª–∏ –Ω–µ—Ç –º–∞–ø–ø–∏–Ω–≥–∞ - —Å–æ–ø–æ—Å—Ç–∞–≤–∏—Ç—å –∏–≥—Ä–æ–∫–æ–≤
- [ ] –ï—Å–ª–∏ —Å—Ç–∞—Ä—ã–π –æ—Ç—á—ë—Ç - –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —á–µ—Ä–µ–∑ –ø—Ä–æ—Ñ–∏–ª—å
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å warnings –≤ –ª–æ–≥–∞—Ö
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ñ–∞–π–ª –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ

## üéØ –ë—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ** `/debug-gps`
2. **–ù–∞–π–¥–∏—Ç–µ** –ø—Ä–æ–±–ª–µ–º–Ω—ã–π –æ—Ç—á—ë—Ç (–∫—Ä–∞—Å–Ω—ã–π —Å—Ç–∞—Ç—É—Å)
3. **–ù–∞–∂–º–∏—Ç–µ** "üîß –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å"
4. **–°–ª–µ–¥—É–π—Ç–µ** –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤ –æ—Ç–≤–µ—Ç–µ
5. **–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ** —Ñ–∞–π–ª —á–µ—Ä–µ–∑ –ø—Ä–æ—Ñ–∏–ª—å –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

## üìû –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ —Å `GPS_DEBUG=1`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–æ—Ñ–∏–ª—å —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω—É–∂–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª –Ω–µ –ø–æ–≤—Ä–µ–∂–¥—ë–Ω
4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª –≤ –¥—Ä—É–≥–æ–º —Ñ–æ—Ä–º–∞—Ç–µ (Excel ‚Üí CSV –∏–ª–∏ –Ω–∞–æ–±–æ—Ä–æ—Ç)
5. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ—Ñ–∏–ª—å —Å –Ω—É–ª—è

---

**–ü–æ–º–Ω–∏—Ç–µ**: GPS –æ—Ç—á—ë—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø—Ä–æ—Ñ–∏–ª—è–º–∏ –∏ –º–∞–ø–ø–∏–Ω–≥–æ–º –∏–≥—Ä–æ–∫–æ–≤. –ë–µ–∑ —ç—Ç–æ–≥–æ canonical –¥–∞–Ω–Ω—ã–µ –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã.
