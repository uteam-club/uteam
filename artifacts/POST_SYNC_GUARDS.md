# Post-Sync Canon Guards Report

**–î–∞—Ç–∞:** 2025-09-10T10:45:00.000Z

## –°–≤–æ–¥–∫–∞ –≤–Ω–µ–¥—Ä—ë–Ω–Ω—ã—Ö –≥–≤–∞—Ä–¥–æ–≤

### 1. Deprecated –º–µ—Ç—Ä–∏–∫–∏ –≤ –∫–æ–¥–µ/–ë–î

**–ù–∞–π–¥–µ–Ω–æ deprecated —Å—Å—ã–ª–æ–∫:**
- **–ö–æ–¥:** 27 —É–ø–æ–º–∏–Ω–∞–Ω–∏–π deprecated –º–µ—Ç—Ä–∏–∫
- **–ü—Ä–æ—Ñ–∏–ª–∏:** 0 —Å deprecated –º–µ—Ç—Ä–∏–∫–∞–º–∏  
- **–û—Ç—á—ë—Ç—ã:** 0 —Å deprecated –º–µ—Ç—Ä–∏–∫–∞–º–∏

**Deprecated –º–µ—Ç—Ä–∏–∫–∏ (49):**
- acc_zone1_count, acc_zone2_count, acc_zone3_count, acc_zone4_count, acc_zone5_count, acc_zone6_count
- avg_heart_rate_bpm, avg_speed_ms
- dec_zone1_count, dec_zone2_count, dec_zone3_count, dec_zone4_count, dec_zone5_count, dec_zone6_count
- distance_zone1_m, distance_zone2_m, distance_zone3_m, distance_zone4_m, distance_zone5_m, distance_zone6_m
- explosive_distance_m, hml_distance_m, impacts_count
- max_acceleration_ms2, max_deceleration_ms2
- player_load_au, power_score_wkg
- speed_zone1_entries, speed_zone2_entries, speed_zone3_entries, speed_zone4_entries, speed_zone5_entries, speed_zone6_entries
- sprint_distance_m, sprints_count
- time_in_hr_zone1_s, time_in_hr_zone2_s, time_in_hr_zone3_s, time_in_hr_zone4_s, time_in_hr_zone5_s, time_in_hr_zone6_s
- time_in_speed_zone1_s, time_in_speed_zone2_s, time_in_speed_zone3_s, time_in_speed_zone4_s, time_in_speed_zone5_s, time_in_speed_zone6_s
- top_heart_rate_bpm, work_ratio_percent

### 2. –ì–≤–∞—Ä–¥—ã –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ GPS-–ø—Ä–æ—Ñ–∏–ª—è

**–î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ `src/validators/gpsProfile.schema.ts`:**

#### 2.1 –ó–∞–ø—Ä–µ—Ç deprecated –º–µ—Ç—Ä–∏–∫
- ‚ùå **–ó–∞–ø—Ä–µ—â–µ–Ω–æ:** –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–æ–∫ —Å `canonicalKey` –∏–∑ deprecated –º–µ—Ç—Ä–∏–∫
- üìù **–û—à–∏–±–∫–∞:** "–ú–µ—Ç—Ä–∏–∫–∞ ¬´{name}¬ª —É—Å—Ç–∞—Ä–µ–ª–∞ –∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞"

#### 2.2 –í–∞–ª–∏–¥–∞—Ü–∏—è displayUnit
- ‚úÖ **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è ratio/ratio:** –¢—Ä–µ–±—É–µ—Ç—Å—è —É–∫–∞–∑–∞—Ç—å `displayUnit` (% –∏–ª–∏ ratio)
- ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è speed m/s:** –†–∞–∑—Ä–µ—à–µ–Ω—ã —Ç–æ–ª—å–∫–æ 'm/s' –∏ 'km/h'
- ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è time:** –†–∞–∑—Ä–µ—à–µ–Ω—ã 's', 'min', 'h'
- ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è distance:** –†–∞–∑—Ä–µ—à–µ–Ω—ã 'm', 'km', 'yd'
- üìù **–û—à–∏–±–∫–∏:** "–ù–µ —É–∫–∞–∑–∞–Ω–∞ –µ–¥–∏–Ω–∏—Ü–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è ¬´{name}¬ª", "–ù–µ–¥–æ–ø—É—Å—Ç–∏–º–∞—è –µ–¥–∏–Ω–∏—Ü–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è ¬´{name}¬ª"

#### 2.3 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ buildProfileSnapshot
- ‚úÖ **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç displayUnit:** –ü—Ä–æ—Ñ–∏–ª—å > —ç–≤—Ä–∏—Å—Ç–∏–∫–∞ > canonical unit
- ‚úÖ **–ü–µ—Ä–µ–Ω–æ—Å –≤ snapshot:** `displayUnit` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `profileSnapshot.columns[]`

### 3. –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –Ω–µ–≤–µ—Ä–Ω–æ–º –º–∞–ø–ø–∏–Ω–≥–µ –∏–º–µ–Ω–∏ –∏–≥—Ä–æ–∫–∞

**–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ `src/app/api/gps-reports/route.ts`:**

#### 3.1 –î–µ—Ç–µ–∫—Ü–∏—è –ø–æ–∑–∏—Ü–∏–π –≤ athlete_name
- üîç **–ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø–æ–∑–∏—Ü–∏–π:** CB, MF, W, S, GK, ST, CM, DM, AM, RM, LM, RW, LW, CF, SS, –í–†, –¶–ó, –õ–ó, –ü–ó, –ù, –ü–§, –õ–§, –¶–ü, –û–ü, –ê–ü, –ü–ü, –õ–ü, –§
- üìä **–ü–æ—Ä–æ–≥ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è:** >60% –∑–Ω–∞—á–µ–Ω–∏–π –∏–∑ –ø–µ—Ä–≤—ã—Ö 50 —Å—Ç—Ä–æ–∫
- ‚ö†Ô∏è **Warning –∫–æ–¥:** `ATHLETE_NAME_SUSPECT`
- üìù **–°–æ–æ–±—â–µ–Ω–∏–µ:** "–ö–æ–ª–æ–Ω–∫–∞ –∏–º–µ–Ω–∏ —Å–æ–¥–µ—Ä–∂–∏—Ç, –ø–æ—Ö–æ–∂–µ, –ø–æ–∑–∏—Ü–∏–∏. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –º–∞–ø–ø–∏–Ω–≥ –≤ –ø—Ä–æ—Ñ–∏–ª–µ."

#### 3.2 –õ–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏
```typescript
const positionCount = nameValues.filter(name => {
  const trimmed = name.trim().toUpperCase();
  return positionPatterns.includes(trimmed) || 
         (trimmed.length <= 3 && /^[A-Z–ê-–Ø–Å]+$/.test(trimmed));
}).length;

const positionRatio = positionCount / totalValidNames;
if (positionRatio > 0.6) {
  // –î–æ–±–∞–≤–ª—è–µ–º warning
}
```

### 4. UI: –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç—Ä–æ–≥–æ –ø–æ snapshot + –µ–¥–∏–Ω–∏—Ü—ã

**–û–±–Ω–æ–≤–ª—ë–Ω `src/components/gps/GpsReportTable.tsx`:**

#### 4.1 –°—Ç—Ä–æ–≥–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ snapshot
- ‚úÖ **–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö:** –¢–æ–ª—å–∫–æ `report.profileSnapshot.columns`
- ‚ùå **–£–±—Ä–∞–Ω fallback:** –ö –∂–∏–≤–æ–º—É –ø—Ä–æ—Ñ–∏–ª—é/—Å—ã—Ä—ã–º –∫–ª—é—á–∞–º

#### 4.2 –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –µ–¥–∏–Ω–∏—Ü
- ‚úÖ **–û–¥–Ω–æ–∫—Ä–∞—Ç–Ω–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è:** `fromCanonical(canonicalValue, canonicalUnit, displayUnit)`
- ‚úÖ **–¢–æ–ª—å–∫–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** `formatDisplayValue(convertedValue, displayUnit)`
- ‚ùå **–£–±—Ä–∞–Ω–æ –¥–≤–æ–π–Ω–æ–µ —É–º–Ω–æ–∂–µ–Ω–∏–µ:** –ù–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏ %*100

#### 4.3 Unit-—Ç–µ—Å—Ç—ã
- ‚úÖ **HSR —Ç–µ—Å—Ç:** 0.085 ratio + displayUnit='%' ‚Üí 8.5% (–±–µ–∑ –¥–≤–æ–π–Ω–æ–≥–æ —É–º–Ω–æ–∂–µ–Ω–∏—è)
- ‚úÖ **Speed —Ç–µ—Å—Ç:** 7.78 m/s + displayUnit='km/h' ‚Üí 28.0
- ‚úÖ **Time —Ç–µ—Å—Ç:** 90 s + displayUnit='min' ‚Üí 1.5
- ‚úÖ **Distance —Ç–µ—Å—Ç:** 5000 m + displayUnit='km' ‚Üí 5.0

### 5. –ì–¥–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ ATHLETE_NAME_SUSPECT

**–°—Ü–µ–Ω–∞—Ä–∏–∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è:**
1. **–ü—Ä–æ—Ñ–∏–ª—å "Test":** –ö–æ–ª–æ–Ω–∫–∞ "–ò–≥—Ä–æ–∫" –º–∞–ø–ø–∏—Ç—Å—è –Ω–∞ –ø–æ–∑–∏—Ü–∏–∏ (MF, W, S, CB)
2. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –º–∞–ø–ø–∏–Ω–≥:** –ö–æ–≥–¥–∞ `athlete_name` —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –∫–æ–ª–æ–Ω–∫—É —Å –ø–æ–∑–∏—Ü–∏—è–º–∏
3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ:** –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –æ—Ç—á—ë—Ç–∞ —á–µ—Ä–µ–∑ API

**–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è:**
- üö® **–ë–∞–Ω–Ω–µ—Ä-–ø–æ–¥—Å–∫–∞–∑–∫–∞:** –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ UI –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ warning
- üìä **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:** –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ—Ü–µ–Ω—Ç –ø–æ–∑–∏—Ü–∏–π –≤ –∫–æ–ª–æ–Ω–∫–µ –∏–º—ë–Ω
- üîß **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ü—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –º–∞–ø–ø–∏–Ω–≥ –≤ –ø—Ä–æ—Ñ–∏–ª–µ

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–í—Å–µ –≥–≤–∞—Ä–¥—ã —É—Å–ø–µ—à–Ω–æ –≤–Ω–µ–¥—Ä–µ–Ω—ã:
- ‚úÖ **Deprecated –º–µ—Ç—Ä–∏–∫–∏:** –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã –≤ –ø—Ä–æ—Ñ–∏–ª—è—Ö
- ‚úÖ **DisplayUnit:** –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –ø–µ—Ä–µ–Ω–æ—Å –≤ snapshot
- ‚úÖ **–ò–º–µ–Ω–∞ –∏–≥—Ä–æ–∫–æ–≤:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π
- ‚úÖ **UI –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ:** –°—Ç—Ä–æ–≥–æ –ø–æ snapshot –±–µ–∑ –¥–≤–æ–π–Ω—ã—Ö –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–π
- ‚úÖ **Unit-—Ç–µ—Å—Ç—ã:** –ü–æ–∫—Ä—ã–≤–∞—é—Ç –≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏

–°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å –∑–∞—â–∏—â–µ–Ω–∞ –æ—Ç –æ—à–∏–±–æ–∫ –ø—Ä–æ—Ñ–∏–ª–µ–π –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –µ–¥–∏–Ω–∏—Ü—ã.
