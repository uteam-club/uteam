# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã —Å –∏–≥—Ä–æ–≤—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏

## ‚úÖ –í—ã –±—ã–ª–∏ –ø—Ä–∞–≤—ã!

### –ü—Ä–æ–±–ª–µ–º–∞:
–ò–≥—Ä–æ–≤—ã–µ –º–æ–¥–µ–ª–∏ **–ù–ï —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –¥–ª—è –≤—Å–µ—Ö –∏–≥—Ä–æ–∫–æ–≤. –û–Ω–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ —Ç—Ä–µ–Ω–µ—Ä –≤—Ä—É—á–Ω—É—é –≤—ã–∑—ã–≤–∞–µ—Ç POST –∑–∞–ø—Ä–æ—Å `/api/players/[playerId]/game-model`.

### –¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞:
1. **–†–∞—Å—á–µ—Ç –º–æ–¥–µ–ª–µ–π:** –¢–æ–ª—å–∫–æ –ø–æ –∑–∞–ø—Ä–æ—Å—É —Ç—Ä–µ–Ω–µ—Ä–∞ (POST –∑–∞–ø—Ä–æ—Å)
2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–≥—Ä–æ–∫–∞:** –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –ø—Ä–æ—Ñ–∏–ª–µ –∏–≥—Ä–æ–∫–∞
3. **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ GPS –æ—Ç—á–µ—Ç–∞—Ö:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏, –∞ –Ω–µ –∏–≥—Ä–æ–∫–∞

## üîç –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑

### 1. API –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –∏–≥—Ä–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π
**–§–∞–π–ª:** `src/app/api/players/[playerId]/game-model/route.ts`

- **GET:** –ü–æ–ª—É—á–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –º–æ–¥–µ–ª—å
- **POST:** –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –Ω–æ–≤—É—é –º–æ–¥–µ–ª—å (—Ç–æ–ª—å–∫–æ –ø–æ –∑–∞–ø—Ä–æ—Å—É)
- **–õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Å–µ 48 —É—Å—Ä–µ–¥–Ω—è–µ–º—ã—Ö –º–µ—Ç—Ä–∏–∫
- **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:** –ú–∏–Ω–∏–º—É–º 1 –º–∞—Ç—á —Å 60+ –º–∏–Ω—É—Ç–∞–º–∏

### 2. API –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏–≥—Ä–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π
**–§–∞–π–ª:** `src/app/api/players/[playerId]/game-model/settings/route.ts`

- **GET:** –ü–æ–ª—É—á–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
- **POST:** –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –¢–æ–ª—å–∫–æ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –ø—Ä–æ—Ñ–∏–ª–µ –∏–≥—Ä–æ–∫–∞

### 3. API –¥–ª—è GPS –æ—Ç—á–µ—Ç–æ–≤
**–§–∞–π–ª:** `src/app/api/gps/reports/[id]/player-models/route.ts`

- **–ò—Å—Ç–æ—á–Ω–∏–∫ –º–µ—Ç—Ä–∏–∫:** –ü—Ä–æ—Ñ–∏–ª—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ (`averageableColumns`)
- **–ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç:** –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–≥—Ä–æ–∫–∞ –∏–∑ `PlayerGameModelSettings`
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∏–≥—Ä–æ–∫–æ–≤ —Å —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏

## üéØ –†–µ—à–µ–Ω–∏–µ

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π)
**–°–∫—Ä–∏–ø—Ç:** `auto-calculate-game-models.cjs`

```bash
node auto-calculate-game-models.cjs
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –∏–≥—Ä–æ–≤—ã–µ –º–æ–¥–µ–ª–∏ –¥–ª—è –≤—Å–µ—Ö –∏–≥—Ä–æ–∫–æ–≤
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ 10 –º–∞—Ç—á–µ–π –∫–æ–º–∞–Ω–¥—ã
- –§–∏–ª—å—Ç—Ä—É–µ—Ç –º–∞—Ç—á–∏ —Å 60+ –º–∏–Ω—É—Ç–∞–º–∏
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ —Ç–∞–±–ª–∏—Ü—É `PlayerGameModel`

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò–∑–º–µ–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
–ò–∑–º–µ–Ω–∏—Ç—å API `/api/gps/reports/[id]/player-models/route.ts` —á—Ç–æ–±—ã:
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤—Å–µ—Ö –∏–≥—Ä–æ–∫–æ–≤ –∏–∑ –æ—Ç—á–µ—Ç–∞
- –î–ª—è –∏–≥—Ä–æ–∫–æ–≤ –±–µ–∑ –º–æ–¥–µ–ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å "–ú–æ–¥–µ–ª—å –Ω–µ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–∞"
- –î–ª—è –∏–≥—Ä–æ–∫–æ–≤ —Å –º–æ–¥–µ–ª—å—é –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### PlayerGameModel (—Ä–∞—Å—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
```sql
- playerId: ID –∏–≥—Ä–æ–∫–∞
- clubId: ID –∫–ª—É–±–∞  
- matchesCount: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞—Ç—á–µ–π (–¥–æ 10)
- totalMinutes: –û–±—â–µ–µ –≤—Ä–µ–º—è –∏–≥—Ä—ã
- metrics: JSON —Å 48 –º–µ—Ç—Ä–∏–∫–∞–º–∏ (–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º–∏ –∫ 90 –º–∏–Ω)
- matchIds: JSON —Å ID –º–∞—Ç—á–µ–π
```

### PlayerGameModelSettings (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è)
```sql
- playerId: ID –∏–≥—Ä–æ–∫–∞
- clubId: ID –∫–ª—É–±–∞
- selectedMetrics: JSON —Å –≤—ã–±—Ä–∞–Ω–Ω—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏
- metricUnits: JSON —Å –µ–¥–∏–Ω–∏—Ü–∞–º–∏ –∏–∑–º–µ—Ä–µ–Ω–∏—è
```

## üîß –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç
```bash
node auto-calculate-game-models.cjs
```

### 2. –î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ GPS –¥–∞–Ω–Ω—ã—Ö
–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å API –∑–∞–≥—Ä—É–∑–∫–∏ GPS –æ—Ç—á–µ—Ç–æ–≤ —á—Ç–æ–±—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—Ç—å –º–æ–¥–µ–ª–∏ –¥–ª—è –Ω–æ–≤—ã—Ö –∏–≥—Ä–æ–∫–æ–≤.

### 3. –£–ª—É—á—à–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤—Å–µ—Ö –∏–≥—Ä–æ–∫–æ–≤, –¥–∞–∂–µ –±–µ–∑ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π.

## ‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞:
- ‚úÖ –í—Å–µ –∏–≥—Ä–æ–∫–∏ —Å –ø–æ–¥—Ö–æ–¥—è—â–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –±—É–¥—É—Ç –∏–º–µ—Ç—å –∏–≥—Ä–æ–≤—ã–µ –º–æ–¥–µ–ª–∏
- ‚úÖ –í GPS –æ—Ç—á–µ—Ç–∞—Ö –±—É–¥—É—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å—Å—è –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Å–µ—Ö –∏–≥—Ä–æ–∫–æ–≤
- ‚úÖ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ç–µ–∫—É—â–∏—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π —Å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–π –º–æ–¥–µ–ª—å—é
- ‚úÖ –ü—Ä–æ—Ü–µ–Ω—Ç–Ω—ã–µ —Ä–∞–∑–ª–∏—á–∏—è –¥–ª—è –∫–∞–∂–¥–æ–π –º–µ—Ç—Ä–∏–∫–∏

**–î–∞—Ç–∞:** 22 —Å–µ–Ω—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** üîß –¢–†–ï–ë–£–ï–¢–°–Ø –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò–ô –†–ê–°–ß–ï–¢
