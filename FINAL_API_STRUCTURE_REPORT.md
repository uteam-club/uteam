# –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ API –¥–ª—è GPS –º–µ—Ç—Ä–∏–∫

## üéØ –ß—Ç–æ —É –Ω–∞—Å –µ—Å—Ç—å –≤ –∏—Ç–æ–≥–µ

### 1. API –¥–ª—è —Å—Ä–µ–¥–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π (Team Averages & Game Models)
**–≠–Ω–¥–ø–æ–∏–Ω—Ç:** `/api/gps/canonical-metrics`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –¢–æ–ª—å–∫–æ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ —Å—Ä–µ–¥–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π –∫–æ–º–∞–Ω–¥—ã –∏ –∏–≥—Ä–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–µ—Ç—Ä–∏–∫:** 48 —É—Å—Ä–µ–¥–Ω—è–µ–º—ã—Ö –º–µ—Ç—Ä–∏–∫
- **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤:**
  - `TeamAverageGauges` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
  - `PlayerGameModels` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
  - API `/api/gps/reports/[id]/team-averages`
  - API `/api/players/[playerId]/game-model`

### 2. API –¥–ª—è –º–∞–ø–ø–∏–Ω–≥–∞ –∫–æ–ª–æ–Ω–æ–∫ (Column Mapping)
**–≠–Ω–¥–ø–æ–∏–Ω—Ç:** `/api/gps/canonical-metrics-for-mapping`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –î–ª—è —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∫–æ–ª–æ–Ω–æ–∫ GPS —Ñ–∞–π–ª–æ–≤ —Å –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–µ—Ç—Ä–∏–∫:** 57 –º–µ—Ç—Ä–∏–∫ (–≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ)
- **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤:**
  - `NewGpsReportModal` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
  - `ColumnMappingModal` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
  - `ColumnMappingStep` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
  - `NewGpsProfileModal` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
  - `EditGpsProfileModal` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

### 3. API –¥–ª—è –µ–¥–∏–Ω–∏—Ü –∏–∑–º–µ—Ä–µ–Ω–∏—è
**–≠–Ω–¥–ø–æ–∏–Ω—Ç:** `/api/gps/units`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ –µ–¥–∏–Ω–∏—Ü –∏–∑–º–µ—Ä–µ–Ω–∏—è –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏
- **–§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞:** `{ units: [...], groupedUnits: {...} }`
- **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–æ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö –º–∞–ø–ø–∏–Ω–≥–∞**

## üìä –†–∞–∑–±–∏–≤–∫–∞ –º–µ—Ç—Ä–∏–∫

### –í—Å–µ–≥–æ –º–µ—Ç—Ä–∏–∫: 57
1. **Identity** (2): athlete_name, position
2. **Participation** (1): duration
3. **Distance** (7): total_distance, distance_zone1-6
4. **Speed** (8): max_speed, avg_speed, time_in_speed_zone1-6
5. **Acceleration** (12): acc_zone1-6_count, dec_zone1-6_count, max_acceleration, max_deceleration
6. **Load** (3): player_load, power_score, work_ratio
7. **Intensity** (4): hsr_distance, sprint_distance, sprints_count, hsr_percentage
8. **Heart Rate** (8): avg_heart_rate, max_heart_rate, time_in_hr_zone1-6
9. **Derived** (12): speed_zone1-6_entries, hml_distance, explosive_distance, distance_per_min, impacts_count

### –£—Å—Ä–µ–¥–Ω—è–µ–º—ã–µ –º–µ—Ç—Ä–∏–∫–∏: 48
–ò—Å–∫–ª—é—á–µ–Ω—ã: athlete_name, position, max_speed, avg_speed, max_acceleration, max_deceleration, avg_heart_rate, max_heart_rate, duration

## üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. –û—à–∏–±–∫–∞ "units.filter is not a function"
**–ü—Ä–æ–±–ª–µ–º–∞:** API `/api/gps/units` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç `{ units: [...] }`, –∞ –∫–æ–¥ –æ–∂–∏–¥–∞–ª –º–∞—Å—Å–∏–≤
**–†–µ—à–µ–Ω–∏–µ:** –ò–∑–º–µ–Ω–µ–Ω–æ `setUnits(unitsData || [])` –Ω–∞ `setUnits(unitsData.units || [])`

### 2. –ù–µ–ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –º–µ—Ç—Ä–∏–∫ –¥–ª—è –º–∞–ø–ø–∏–Ω–≥–∞
**–ü—Ä–æ–±–ª–µ–º–∞:** –ú–∞–ø–ø–∏–Ω–≥ –∫–æ–ª–æ–Ω–æ–∫ –ø–æ–∫–∞–∑—ã–≤–∞–ª —Ç–æ–ª—å–∫–æ 48 –º–µ—Ç—Ä–∏–∫ –≤–º–µ—Å—Ç–æ 57
**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π API `/api/gps/canonical-metrics-for-mapping`

### 3. –°–º–µ—à–∏–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ API
**–ü—Ä–æ–±–ª–µ–º–∞:** –û–¥–∏–Ω API –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ü–µ–ª–µ–π
**–†–µ—à–µ–Ω–∏–µ:** –†–∞–∑–¥–µ–ª–µ–Ω—ã API –ø–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—é

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

### –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:
- ‚úÖ –ú–∞–ø–ø–∏–Ω–≥ –∫–æ–ª–æ–Ω–æ–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ 57 –º–µ—Ç—Ä–∏–∫
- ‚úÖ –°—Ä–µ–¥–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –ø–æ 48 —É—Å—Ä–µ–¥–Ω—è–µ–º—ã–º –º–µ—Ç—Ä–∏–∫–∞–º
- ‚úÖ –ï–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
- ‚úÖ –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –º–µ–∂–¥—É API

### –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ GPS —Ñ–∞–π–ª–æ–≤ —Å –ø–æ–ª–Ω—ã–º –º–∞–ø–ø–∏–Ω–≥–æ–º –∫–æ–ª–æ–Ω–æ–∫
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–π –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
- ‚úÖ –†–∞—Å—á–µ—Ç —Å—Ä–µ–¥–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π –∫–æ–º–∞–Ω–¥—ã
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∏–≥—Ä–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π –∏–≥—Ä–æ–∫–æ–≤

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ GPS –º–µ—Ç—Ä–∏–∫ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –º–µ–∂–¥—É API. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç:
1. –°–æ–ø–æ—Å—Ç–∞–≤–ª—è—Ç—å –ª—é–±—ã–µ –∫–æ–ª–æ–Ω–∫–∏ GPS —Ñ–∞–π–ª–æ–≤ —Å 57 –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏
2. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª–∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
3. –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Å—Ä–µ–¥–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã
4. –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –∏–≥—Ä–æ–≤—ã–µ –º–æ–¥–µ–ª–∏ –∏–≥—Ä–æ–∫–æ–≤

**–î–∞—Ç–∞:** 22 —Å–µ–Ω—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–û–¢–û–í–û –ö –ü–†–û–î–ê–ö–®–ï–ù–£
